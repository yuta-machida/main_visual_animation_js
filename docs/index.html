<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bezier Curve Animation</title>
  <link rel="stylesheet" href="./css/test.css">
</head>
<body>
  <header>
    <div class="header-title">
      <h1>Tohoku<br>Yakuriken</h1>
    </div>
  </header>

  <main>
    <!-- アニメーション軌道 -->
    <svg width="2000" height="300">
      <path id="motionPath" 
      d="M 0,100 c 200,100 400,200 600,100 c 200,-100 400,-200 600,-100 c 200,100 400,200 600,100"
      stroke="black" stroke-width="2" fill="none"/>
    </svg>

    <div class="main-visual">
      <img src="./img/leaf-1.png" id="leaf1" class="leaf">
      <img src="./img/leaf-2.png" id="leaf2" class="leaf">
      <img src="./img/leaf-3.png" id="leaf3" class="leaf">
      <img src="./img/leaf-4.png" id="leaf4" class="leaf">
      <img src="./img/leaf-5.png" id="leaf5" class="leaf">
      <img src="./img/leaf-1.png" id="leaf6" class="leaf">
      <img src="./img/leaf-2.png" id="leaf7" class="leaf">
      <img src="./img/leaf-3.png" id="leaf8" class="leaf">
      <img src="./img/leaf-4.png" id="leaf9" class="leaf">
      <img src="./img/leaf-5.png" id="leaf10" class="leaf">
      <img src="./img/leaf-1.png" id="leaf11" class="leaf">
      <img src="./img/leaf-2.png" id="leaf12" class="leaf">
      <img src="./img/leaf-3.png" id="leaf13" class="leaf">
      <img src="./img/leaf-4.png" id="leaf14" class="leaf">
      <img src="./img/leaf-5.png" id="leaf15" class="leaf">
    </div>
  </main>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
    const path = document.querySelector('#motionPath'); //path取得

    const leaves = [];
    let leafCount = 0;
    let delayTime = 0;

    while(leaves[leafCount] !== ""){
      leaves[leafCount] = document.querySelector(`#leaf${leafCount + 1}`); //idでimg要素取得
      leaves[leafCount].style.offsetPath = `path('${path.getAttribute('d')}')`; //img要素にpath軌道を設定
      leaves[leafCount].style.animationDelay = `${delayTime}s` //img要素ごとにanimation-delayを変化
      leafCount++;
      delayTime++;
    }
  });

  
  </script>

</body>
</html>
